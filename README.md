![Test Status](https://github.com/mimi-net/miminet/actions/workflows/full_test.yml/badge.svg)
![Test Status](https://github.com/mimi-net/miminet/actions/workflows/back_test.yml/badge.svg)
![OS](https://img.shields.io/badge/OS-linux-0078D4)
[![License: Apache](https://img.shields.io/badge/License-Apache-yellow.svg)](https://opensource.org/licenses/Apache)
[![GitHub last commit](https://img.shields.io/github/last-commit/mimi-net/miminet)](#)
![GitHub commit activity](https://img.shields.io/github/commit-activity/m/mimi-net/miminet)
![Website](https://img.shields.io/website?url=https%3A%2F%2Fmiminet.ru%2F)

# Miminet

**Miminet** ‚Äî —ç–º—É–ª—è—Ç–æ—Ä –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö —Å–µ—Ç–µ–π –Ω–∞ –±–∞–∑–µ –û–° Linux, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π.

---

## üí° –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- [Docker](https://www.docker.com/get-started/)
- [Docker Compose](https://docs.docker.com/compose/install/)
- [Vagrant](https://www.vagrantup.com/) (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- [Ansible](https://docs.ansible.com/ansible/latest/installation_guide/index.html) (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

> –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø—Ä–æ–µ–∫—Ç–æ–º, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [—Ä–∞–∑–¥–µ–ª](#arch) –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
---

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

–í –∫–∞—Ç–∞–ª–æ–≥–∞—Ö `back` –∏ `front` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ `.env`, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ docker-compose –∏ Ansible.

### –í–∞–∂–Ω–æ: 
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ***WSL*** –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç–∫–∏ –±—ç–∫–µ–Ω–¥–∞, –æ–Ω–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç.
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ, –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —ç–º—É–ª—è—Ü–∏—è –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- –î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º [start_all_containers.sh](./start_all_containers.sh).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. ```git clone git@github.com:mimi-net/miminet.git```
2. –ö–æ–ø–∏—Ä—É–µ–º ```vk_auth.json``` –∏–∑ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞ –≤ ```front/src```, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ.
3. –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª ```miminet_secret.conf``` –≤ ```front/src``` –∏ –ø–∏—à–µ–º —Ç—É–¥–∞ —Å–ª—É—á–∞–π–Ω—ã–µ –±—É–∫–≤—ã/—Ü–∏—Ñ—Ä—ã, —á—Ç–æ–±—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –¥–æ–∫–µ—Ä–∞.
4. –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ [start_all_containers.sh](./start_all_containers.sh)).
5. –ó–∞—Ö–æ–¥–∏–º –Ω–∞ localhost –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.

### Vagrant (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
NFS(–¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ vagrant up):
```
# /etc/sudoers.d/vagrant-syncedfolders
Cmnd_Alias VAGRANT_EXPORTS_CHOWN = /bin/chown 0\:0 /tmp/vagrant-exports
Cmnd_Alias VAGRANT_EXPORTS_MV = /bin/mv -f /tmp/vagrant-exports /etc/exports
Cmnd_Alias VAGRANT_NFSD_CHECK = /etc/init.d/nfs-kernel-server status
Cmnd_Alias VAGRANT_NFSD_START = /etc/init.d/nfs-kernel-server start
Cmnd_Alias VAGRANT_NFSD_APPLY = /usr/sbin/exportfs -ar
%sudo ALL=(root) NOPASSWD: VAGRANT_EXPORTS_CHOWN, VAGRANT_EXPORTS_MV, VAGRANT_NFSD_CHECK, VAGRANT_NFSD_START, VAGRANT_NFSD_APPLY
```

```
cd back
export numberOfBoxes=N
export provider=vbox/vmware
. vagrant_vms.sh
```
---

## ‚òÅÔ∏è <a name="arch">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- Miminet –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.
- RabbitMQ: –°–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –∏ –±—ç–∫–µ–Ω–¥–æ–º.

### Frontend (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, front)
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–∏—Å—Ç–µ–º–æ–π (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–π –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ).
- –§–∞–π–ª—ã, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —ç—Ç–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ ```front```.
- –ó–∞ —ç—Ç—É —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã —Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: miminet (–æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å), [nginx](https://nginx.org/ru/) (HTTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏) –∏ rabbitmq.
- –í Miminet –µ—Å—Ç—å [—Ç–µ—Å—Ç—ã](https://github.com/mimi-net/miminet/tree/main/front/tests) –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ç–µ–π. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é [Selenium](https://www.selenium.dev/).

### Backend (–±—ç–∫–µ–Ω–¥, back) 

- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è –ª–æ–≥–∏–∫—É —ç–º—É–ª—è—Ü–∏–∏ —Å–µ—Ç–∏.
- –§–∞–π–ª—ã, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —ç—Ç–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ ```back```.
- –ó–∞ —ç—Ç—É —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä celery, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –∑–∞–¥–∞—á–∏ –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –∏—Ö.
- –í Miminet –µ—Å—Ç—å [—Ç–µ—Å—Ç—ã](https://github.com/mimi-net/miminet/blob/main/back/src/test_miminet_example_works.py) –¥–ª—è –±—ç–∫–µ–Ω–¥–∞, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ —ç–º—É–ª—è—Ü–∏–∏ –∑–∞–¥–∞–Ω–Ω–æ–π —Å–µ—Ç–∏. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ [JSON-—Ñ–∞–π–ª—ã](https://github.com/mimi-net/miminet/tree/main/back/src/test_json).
  
---

## ‚òëÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –í ```front/.env``` —Ñ–∞–π–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–æ: ```MODE=dev```.
2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```
sh front/tests/docker/run.sh
pytest front/tests
```
